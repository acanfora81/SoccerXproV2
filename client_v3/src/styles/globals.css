@tailwind base;
@tailwind components;
@tailwind utilities;

/* === BASE RESET === */
* {
  box-sizing: border-box;
}

html,
body,
#root {
  height: 100%;
}

body {
  font-family: 'Inter', sans-serif;
  background: var(--bg-light);
  color: var(--text-primary);
  transition: background 0.3s ease, color 0.3s ease;
}

h1,
h2,
h3,
h4 {
  font-weight: 700;
  letter-spacing: -0.02em;
}

/* === AUTOMATION MAIL-LIKE COMPONENTS === */
@layer components {
  /* === LAYOUT COLORS === */
  .bg-layout-light {
    background: #f7f8fa;
  }
  .bg-layout-dark {
    background: #0a0f1a;
  }

  .bg-surface-light {
    background: #ffffff;
  }
  .bg-surface-dark {
    background: #0b1120;
  }

  .text-text-strong {
    color: #111827;
  }
  .text-text-muted {
    color: #6b7280;
  }

  .border-border-light {
    border-color: #e5e7eb;
  }
  .border-border-dark {
    border-color: #1f2937;
  }

  /* === SHADOWS (sobrie, non fosforescenti) === */
  .shadow-wow {
    box-shadow: 0 2px 6px rgb(0 0 0 / 8%);
  }

  .shadow-header {
    box-shadow: 0 1px 3px rgb(0 0 0 / 6%);
  }

  /* === TABLE STYLE === */
  .table-modern {
    width: 100%;
    border-collapse: collapse;
    border-radius: var(--radius-lg);
    overflow: hidden;
    background-color: var(--bg-surface);
    box-shadow: 0 1px 3px rgb(0 0 0 / 6%);
  }

  .table-modern thead {
    background-color: rgb(0 0 0 / 2%);
  }

  .dark .table-modern thead {
    background-color: rgb(255 255 255 / 5%);
  }

  .table-modern th {
    text-align: left;
    font-weight: 600;
    padding: 12px 16px;
    font-size: 0.875rem;
    color: var(--text-primary);
    border-bottom: 1px solid var(--color-border, #e5e7eb);
  }

  .table-modern td {
    padding: 12px 16px;
    font-size: 0.875rem;
    border-bottom: 1px solid var(--color-border, #e5e7eb);
  }

  .dark .table-modern td {
    border-color: rgb(255 255 255 / 8%);
  }

  .table-modern tr:hover td {
    background-color: rgb(59 130 246 / 5%);
  }

  .dark .table-modern tr:hover td {
    background-color: rgb(59 130 246 / 10%);
  }

  /* === BUTTONS === */
  .btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    font-weight: 500;
    border-radius: var(--radius-md);
    padding: 0.5rem 1rem;
    border: 1px solid transparent;
    transition: all 0.2s ease;
    cursor: pointer;
  }

  .btn-primary {
    background-color: var(--brand);
    color: #fff;
  }

  .btn-primary:hover {
    background-color: var(--brand-dark);
  }

  .btn-outline {
    border: 1px solid #d1d5db;
    color: #374151;
    background: transparent;
  }

  .btn-outline:hover {
    background-color: #f3f4f6;
  }

  .btn-danger {
    background-color: #ef4444;
    color: #fff;
  }

  .btn-danger:hover {
    background-color: #dc2626;
  }

  .btn-ghost {
    background-color: transparent;
    color: var(--text-primary);
    border: 1px solid transparent;
  }

  .btn-ghost:hover {
    background-color: rgb(0 0 0 / 5%);
  }

  .btn-sm {
    padding: 0.375rem 0.75rem;
    font-size: 0.75rem;
  }

  .btn-secondary {
    background-color: #6b7280;
    color: #fff;
  }

  .btn-secondary:hover {
    background-color: #4b5563;
  }

  .btn-success {
    background-color: #10b981;
    color: #fff;
  }

  .btn-success:hover {
    background-color: #059669;
  }

  .btn-warning {
    background-color: #f59e0b;
    color: #fff;
  }

  .btn-warning:hover {
    background-color: #d97706;
  }

  .btn-info {
    background-color: #3b82f6;
    color: #fff;
  }

  .btn-info:hover {
    background-color: #2563eb;
  }

  /* === CARD === */
  .card {
    background-color: var(--bg-surface);
    border: 1px solid var(--color-border, #e5e7eb);
    border-radius: var(--radius-lg);
    padding: 1.25rem;
    box-shadow: 0 1px 3px rgb(0 0 0 / 6%);
    transition: box-shadow 0.2s ease;
  }

  .card:hover {
    box-shadow: 0 4px 12px rgb(0 0 0 / 8%);
  }

  /* === SIDEBAR STYLES === */
  .nav-item-group {
    margin-bottom: 2px;
  }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 500;
    color: #6b7280;
    transition: all 0.2s ease;
    text-decoration: none;
  }

  .nav-item:hover {
    background-color: #f3f4f6;
    color: #374151;
  }

  .dark .nav-item {
    color: #9ca3af;
  }

  .dark .nav-item:hover {
    background-color: rgb(255 255 255 / 10%);
    color: #f3f4f6;
  }

  .nav-item.active {
    background: linear-gradient(135deg, #3b82f6, #6366f1);
    color: #ffffff;
    box-shadow: 0 4px 12px rgb(59 130 246 / 30%);
  }

  .nav-label {
    flex: 1;
  }

  .menu-toggle-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
  }

  .submenu {
    margin-left: 8px;
    border-left: 1px solid #e5e7eb;
    padding-left: 8px;
  }

  .dark .submenu {
    border-left-color: rgb(255 255 255 / 10%);
  }
}

/* === ACTION BUTTONS (TABLES) === */
/* Updated: Added cursor pointer and border none */
.btn-action {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    font-weight: 600;
    transition: all 0.2s ease;
    color: #fff;
    cursor: pointer;
    border: none;
  }
  
  .btn-view {
    background-color: #3b82f6; /* blue-500 - stesso colore della lista contratti */
  }
  .btn-view:hover {
    background-color: #2563eb; /* blue-600 */
  }
  
  .btn-history {
    background-color: #8b5cf6; /* violet-500 */
  }
  .btn-history:hover {
    background-color: #7c3aed; /* violet-600 */
  }
  
  .btn-edit {
    background-color: #f59e0b; /* amber-500 */
  }
  .btn-edit:hover {
    background-color: #d97706; /* amber-600 */
  }
  
  .btn-delete {
    background-color: #ef4444; /* red-500 */
  }
  .btn-delete:hover {
    background-color: #dc2626; /* red-600 */
  }
  
  .btn-export {
    background-color: #059669; /* emerald-600 */
  }
  .btn-export:hover {
    background-color: #047857; /* emerald-700 */
  }
  
  .btn-import {
    background-color: #3b82f6; /* blue-500 */
  }
  .btn-import:hover {
    background-color: #2563eb; /* blue-600 */
  }

  /* === LARGE ACTION BUTTONS === */
.btn-lg {
    @apply inline-flex items-center justify-center gap-2 px-5 py-2.5 text-sm font-semibold rounded-lg shadow-sm transition-colors;
  }
  
  .btn-blue {
    @apply bg-blue-600 text-white hover:bg-blue-700;
  }
  
  .btn-green {
    @apply bg-green-600 text-white hover:bg-green-700;
  }
  
  .btn-yellow {
    @apply bg-amber-500 text-white hover:bg-amber-600;
  }
  
  .btn-red {
    @apply bg-red-600 text-white hover:bg-red-700;
  }
  
  .btn-gray {
    @apply bg-gray-200 text-gray-700 hover:bg-gray-300;
  }

  /* === INPUT STYLES === */
  .input-base {
    @apply flex h-10 w-full rounded-md border px-3 py-2 text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50;
    background: var(--bg-surface);
    border-color: #e5e7eb;
    color: var(--text-primary);
  }

  .dark .input-base {
    border-color: #374151;
  }

  .input-base::placeholder {
    color: #9ca3af;
  }

  .dark .input-base::placeholder {
    color: #6b7280;
  }

  /* === DATE INPUT STYLES === */
  input[type="date"].input-base {
    background: var(--bg-surface);
    color: var(--text-primary);
    border-color: #e5e7eb;
  }

  .dark input[type="date"].input-base {
    border-color: #374151;
    color-scheme: dark;
    background: var(--bg-surface);
  }

  /* Stili per il calendario nativo del browser in dark mode */
  html.dark input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1) !important;
    cursor: pointer;
    opacity: 100% !important;
  }

  html.dark input[type="date"]::-webkit-datetime-edit {
    color: #f9fafb !important;
  }

  html.dark input[type="date"]::-webkit-datetime-edit-text {
    color: #f9fafb !important;
    padding: 0 2px;
  }

  html.dark input[type="date"]::-webkit-datetime-edit-month-field,
  html.dark input[type="date"]::-webkit-datetime-edit-day-field,
  html.dark input[type="date"]::-webkit-datetime-edit-year-field {
    color: #f9fafb !important;
    background: transparent !important;
  }
  